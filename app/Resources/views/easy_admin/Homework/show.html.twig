{% extends '@AppBundle/views/easy_admin/show.html.twig' %}
{% form_theme assignment_form with easyadmin_config('design.form_theme') %}

{% block content_title %}
    {% spaceless %}
        {{ entity }}
    {% endspaceless %}
{% endblock %}

{% block main %}
    <div class="form-horizontal">
        {% for field, metadata in fields %}
            <div class="form-group field-{{ metadata.type|default('default')|lower }} {{ metadata.css_class|default('') }}">
                <label class="col-sm-2 control-label">
                    {{ (metadata.label ?: field|humanize)|trans(_trans_parameters)|raw }}
                </label>
                <div class="col-sm-10">
                    <div class="form-control">
                        {{ easyadmin_render_field_for_show_view(_entity_config.name, entity, metadata) }}
                    </div>

                    {% if metadata.help|default('') != '' %}
                        <span class="help-block"><i class="fa fa-info-circle"></i> {{ metadata.help|trans|raw }}</span>
                    {% endif %}
                </div>
            </div>
        {% endfor %}

        <div class="form-group form-actions">
            <div class="col-sm-10 col-sm-offset-2">
                {% block item_actions %}
                    {{ parent() }}
                {% endblock item_actions %}
            </div>
        </div>
    </div>

    {% block delete_form %}
        {{ parent() }}
    {% endblock delete_form %}

    {% if my_assignment is not null %}
        {{ include('@AppBundle/views/easy_admin/Assignment/included_show.html.twig', {
            my_assignment: my_assignment,
            _trans_parameters: _trans_parameters
        }, with_context = false) }}
    {% elseif app.user.isStudent %}

        <h4>{{ 'new.assignment'|trans(_trans_parameters, 'EasyAdminBundle') }}</h4>
        <div class="form-horizontal">
        {{ form_start(assignment_form) }}
        {{ form_widget(assignment_form) }}
        {{ form_end(assignment_form) }}
        </div>
    {% else %}
        {{ include('@AppBundle/views/easy_admin/Assignment/included_list.html.twig', {
            assignments: assignments,
            _trans_parameters: _trans_parameters
        }, with_context = false) }}
    {% endif %}
{% endblock %}

